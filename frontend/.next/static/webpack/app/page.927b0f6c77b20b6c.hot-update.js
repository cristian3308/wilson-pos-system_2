"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/lib/localDatabase.ts":
/*!**********************************!*\
  !*** ./src/lib/localDatabase.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLocalDB: function() { return /* binding */ getLocalDB; },\n/* harmony export */   localDB: function() { return /* binding */ localDB; }\n/* harmony export */ });\n/* harmony import */ var idb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb */ \"(app-pages-browser)/./node_modules/idb/build/index.js\");\n// Sistema de base de datos local: Solo IndexedDB (sin Firebase)\n\n// Clase principal para manejo de base de datos local\nclass LocalDatabase {\n    // Inicializar IndexedDB\n    async init() {\n        if (this.isInitialized) return;\n        try {\n            this.db = await (0,idb__WEBPACK_IMPORTED_MODULE_0__.openDB)(this.dbName, this.version, {\n                upgrade (db) {\n                    // Store para vehículos\n                    if (!db.objectStoreNames.contains(\"vehicles\")) {\n                        const vehicleStore = db.createObjectStore(\"vehicles\", {\n                            keyPath: \"id\"\n                        });\n                        vehicleStore.createIndex(\"placa\", \"placa\", {\n                            unique: false\n                        });\n                    }\n                    // Store para tickets de parqueadero\n                    if (!db.objectStoreNames.contains(\"parking_tickets\")) {\n                        const parkingStore = db.createObjectStore(\"parking_tickets\", {\n                            keyPath: \"id\"\n                        });\n                        parkingStore.createIndex(\"placa\", \"placa\", {\n                            unique: false\n                        });\n                        parkingStore.createIndex(\"status\", \"status\", {\n                            unique: false\n                        });\n                        parkingStore.createIndex(\"entryTime\", \"entryTime\", {\n                            unique: false\n                        });\n                    }\n                    // Store para trabajadores\n                    if (!db.objectStoreNames.contains(\"workers\")) {\n                        const workerStore = db.createObjectStore(\"workers\", {\n                            keyPath: \"id\"\n                        });\n                        workerStore.createIndex(\"name\", \"name\", {\n                            unique: false\n                        });\n                        workerStore.createIndex(\"isActive\", \"isActive\", {\n                            unique: false\n                        });\n                    }\n                    // Store para servicios de lavadero\n                    if (!db.objectStoreNames.contains(\"carwash_services\")) {\n                        const serviceStore = db.createObjectStore(\"carwash_services\", {\n                            keyPath: \"id\"\n                        });\n                        serviceStore.createIndex(\"vehicleType\", \"vehicleType\", {\n                            unique: false\n                        });\n                        serviceStore.createIndex(\"isActive\", \"isActive\", {\n                            unique: false\n                        });\n                    }\n                    // Store para transacciones de lavadero\n                    if (!db.objectStoreNames.contains(\"carwash_transactions\")) {\n                        const transactionStore = db.createObjectStore(\"carwash_transactions\", {\n                            keyPath: \"id\"\n                        });\n                        transactionStore.createIndex(\"placa\", \"placa\", {\n                            unique: false\n                        });\n                        transactionStore.createIndex(\"status\", \"status\", {\n                            unique: false\n                        });\n                        transactionStore.createIndex(\"workerId\", \"workerId\", {\n                            unique: false\n                        });\n                        transactionStore.createIndex(\"createdAt\", \"createdAt\", {\n                            unique: false\n                        });\n                    }\n                    // Store para configuración del negocio\n                    if (!db.objectStoreNames.contains(\"business_config\")) {\n                        db.createObjectStore(\"business_config\", {\n                            keyPath: \"id\"\n                        });\n                    }\n                    // Store para historial de vehículos (reportes)\n                    if (!db.objectStoreNames.contains(\"vehicle_history\")) {\n                        const historyStore = db.createObjectStore(\"vehicle_history\", {\n                            keyPath: \"id\"\n                        });\n                        historyStore.createIndex(\"placa\", \"placa\", {\n                            unique: false\n                        });\n                        historyStore.createIndex(\"fecha\", \"fecha\", {\n                            unique: false\n                        });\n                        historyStore.createIndex(\"tipo\", \"tipo\", {\n                            unique: false\n                        });\n                    }\n                }\n            });\n            this.isInitialized = true;\n            console.log(\"✅ LocalDatabase inicializada correctamente\");\n        } catch (error) {\n            console.error(\"❌ Error inicializando LocalDatabase:\", error);\n            throw error;\n        }\n    }\n    // === MÉTODOS PARA VEHÍCULOS ===\n    async saveVehicle(vehicle) {\n        await this.init();\n        await this.db.put(\"vehicles\", vehicle);\n        console.log(\"✅ Veh\\xedculo guardado localmente: \".concat(vehicle.placa));\n    }\n    async getVehicle(vehicleId) {\n        await this.init();\n        return await this.db.get(\"vehicles\", vehicleId) || null;\n    }\n    async getAllVehicles() {\n        await this.init();\n        return await this.db.getAll(\"vehicles\");\n    }\n    async updateVehicle(vehicle) {\n        await this.init();\n        vehicle.updatedAt = new Date();\n        await this.db.put(\"vehicles\", vehicle);\n        console.log(\"✅ Veh\\xedculo actualizado localmente: \".concat(vehicle.placa));\n    }\n    async deleteVehicle(vehicleId) {\n        await this.init();\n        await this.db.delete(\"vehicles\", vehicleId);\n        console.log(\"✅ Veh\\xedculo eliminado localmente: \".concat(vehicleId));\n    }\n    // === MÉTODOS PARA TICKETS DE PARQUEADERO ===\n    async saveParkingTicket(ticket) {\n        await this.init();\n        await this.db.put(\"parking_tickets\", ticket);\n        console.log(\"✅ Ticket de parqueadero guardado localmente: \".concat(ticket.placa));\n    }\n    async getParkingTicket(ticketId) {\n        await this.init();\n        return await this.db.get(\"parking_tickets\", ticketId) || null;\n    }\n    async getParkingTickets(status) {\n        await this.init();\n        if (status) {\n            const tx = this.db.transaction(\"parking_tickets\", \"readonly\");\n            const index = tx.store.index(\"status\");\n            return await index.getAll(status);\n        }\n        return await this.db.getAll(\"parking_tickets\");\n    }\n    async updateParkingTicket(ticket) {\n        await this.init();\n        ticket.updatedAt = new Date();\n        await this.db.put(\"parking_tickets\", ticket);\n        console.log(\"✅ Ticket de parqueadero actualizado localmente: \".concat(ticket.placa));\n    }\n    async completeParkingTicket(ticketId, exitTime) {\n        await this.init();\n        const ticket = await this.getParkingTicket(ticketId);\n        if (!ticket) {\n            throw new Error(\"Ticket no encontrado: \".concat(ticketId));\n        }\n        const exit = exitTime || new Date();\n        const entry = new Date(ticket.entryTime);\n        const totalMinutes = Math.max(1, Math.floor((exit.getTime() - entry.getTime()) / (1000 * 60)));\n        // Calcular el monto total basado en el precio base y tiempo\n        // Si ya tiene totalAmount, usarlo, sino calcular\n        const totalAmount = ticket.totalAmount || ticket.basePrice;\n        const updatedTicket = {\n            ...ticket,\n            exitTime: exit,\n            totalMinutes,\n            totalAmount,\n            status: \"completed\",\n            isPaid: true,\n            updatedAt: new Date()\n        };\n        await this.updateParkingTicket(updatedTicket);\n        console.log(\"✅ Ticket completado localmente: \".concat(ticket.placa, \" - $\").concat(totalAmount));\n        return updatedTicket;\n    }\n    async deleteParkingTicket(ticketId) {\n        await this.init();\n        await this.db.delete(\"parking_tickets\", ticketId);\n        console.log(\"✅ Ticket eliminado localmente: \".concat(ticketId));\n    }\n    // === MÉTODOS PARA TRABAJADORES ===\n    async saveWorker(worker) {\n        await this.init();\n        await this.db.put(\"workers\", worker);\n        console.log(\"✅ Trabajador guardado localmente: \".concat(worker.name));\n    }\n    async getWorker(workerId) {\n        await this.init();\n        return await this.db.get(\"workers\", workerId) || null;\n    }\n    async getAllWorkers() {\n        let activeOnly = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        await this.init();\n        const allWorkers = await this.db.getAll(\"workers\");\n        if (activeOnly) {\n            return allWorkers.filter((worker)=>worker.isActive);\n        }\n        return allWorkers;\n    }\n    async updateWorker(worker) {\n        await this.init();\n        worker.updatedAt = new Date();\n        await this.db.put(\"workers\", worker);\n        console.log(\"✅ Trabajador actualizado localmente: \".concat(worker.name));\n    }\n    async deleteWorker(workerId) {\n        await this.init();\n        await this.db.delete(\"workers\", workerId);\n        console.log(\"✅ Trabajador eliminado localmente: \".concat(workerId));\n    }\n    // === MÉTODOS PARA SERVICIOS DE LAVADERO ===\n    async saveCarwashService(service) {\n        await this.init();\n        await this.db.put(\"carwash_services\", service);\n        console.log(\"✅ Servicio de lavadero guardado localmente: \".concat(service.serviceName));\n    }\n    async getCarwashService(serviceId) {\n        await this.init();\n        return await this.db.get(\"carwash_services\", serviceId) || null;\n    }\n    async getAllCarwashServices() {\n        let activeOnly = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        await this.init();\n        const allServices = await this.db.getAll(\"carwash_services\");\n        if (activeOnly) {\n            return allServices.filter((service)=>service.isActive);\n        }\n        return allServices;\n    }\n    async updateCarwashService(service) {\n        await this.init();\n        service.updatedAt = new Date();\n        await this.db.put(\"carwash_services\", service);\n        console.log(\"✅ Servicio de lavadero actualizado localmente: \".concat(service.serviceName));\n    }\n    async deleteCarwashService(serviceId) {\n        await this.init();\n        await this.db.delete(\"carwash_services\", serviceId);\n        console.log(\"✅ Servicio eliminado localmente: \".concat(serviceId));\n    }\n    // === MÉTODOS PARA TRANSACCIONES DE LAVADERO ===\n    async saveCarwashTransaction(transaction) {\n        await this.init();\n        await this.db.put(\"carwash_transactions\", transaction);\n        console.log(\"✅ Transacci\\xf3n de lavadero guardada localmente: \".concat(transaction.placa));\n    }\n    async getCarwashTransaction(transactionId) {\n        await this.init();\n        return await this.db.get(\"carwash_transactions\", transactionId) || null;\n    }\n    async getAllCarwashTransactions(status) {\n        await this.init();\n        if (status) {\n            const tx = this.db.transaction(\"carwash_transactions\", \"readonly\");\n            const index = tx.store.index(\"status\");\n            return await index.getAll(status);\n        }\n        return await this.db.getAll(\"carwash_transactions\");\n    }\n    async updateCarwashTransaction(transaction) {\n        await this.init();\n        transaction.updatedAt = new Date();\n        await this.db.put(\"carwash_transactions\", transaction);\n        console.log(\"✅ Transacci\\xf3n actualizada localmente: \".concat(transaction.placa));\n    }\n    async deleteCarwashTransaction(transactionId) {\n        await this.init();\n        await this.db.delete(\"carwash_transactions\", transactionId);\n        console.log(\"✅ Transacci\\xf3n eliminada localmente: \".concat(transactionId));\n    }\n    // === MÉTODOS PARA CONFIGURACIÓN DEL NEGOCIO ===\n    async saveBusinessConfig(config) {\n        await this.init();\n        await this.db.put(\"business_config\", config);\n        console.log(\"✅ Configuraci\\xf3n guardada localmente: \".concat(config.businessName));\n    }\n    async getBusinessConfig() {\n        await this.init();\n        const configs = await this.db.getAll(\"business_config\");\n        return configs.length > 0 ? configs[0] : null;\n    }\n    // === MÉTODOS PARA HISTORIAL (REPORTES) ===\n    async saveParkingRecord(record) {\n        await this.init();\n        await this.db.put(\"vehicle_history\", record);\n        console.log(\"✅ Registro de historial guardado localmente: \".concat(record.placa));\n    }\n    async getParkingHistory() {\n        await this.init();\n        return await this.db.getAll(\"vehicle_history\");\n    }\n    // === MÉTODOS DE UTILIDAD ===\n    async clearAllData() {\n        await this.init();\n        const stores = [\n            \"vehicles\",\n            \"parking_tickets\",\n            \"workers\",\n            \"carwash_services\",\n            \"carwash_transactions\",\n            \"business_config\",\n            \"vehicle_history\"\n        ];\n        for (const storeName of stores){\n            await this.db.clear(storeName);\n        }\n        console.log(\"✅ Todos los datos locales han sido eliminados\");\n    }\n    async exportData() {\n        await this.init();\n        const data = {\n            vehicles: await this.db.getAll(\"vehicles\"),\n            parkingTickets: await this.db.getAll(\"parking_tickets\"),\n            workers: await this.db.getAll(\"workers\"),\n            carwashServices: await this.db.getAll(\"carwash_services\"),\n            carwashTransactions: await this.db.getAll(\"carwash_transactions\"),\n            businessConfig: await this.db.getAll(\"business_config\"),\n            vehicleHistory: await this.db.getAll(\"vehicle_history\"),\n            exportDate: new Date().toISOString()\n        };\n        console.log(\"✅ Datos exportados correctamente\");\n        return data;\n    }\n    async importData(data) {\n        await this.init();\n        try {\n            // Limpiar datos existentes\n            await this.clearAllData();\n            // Importar cada tipo de dato\n            if (data.vehicles) {\n                for (const item of data.vehicles){\n                    await this.db.put(\"vehicles\", item);\n                }\n            }\n            if (data.parkingTickets) {\n                for (const item of data.parkingTickets){\n                    await this.db.put(\"parking_tickets\", item);\n                }\n            }\n            if (data.workers) {\n                for (const item of data.workers){\n                    await this.db.put(\"workers\", item);\n                }\n            }\n            if (data.carwashServices) {\n                for (const item of data.carwashServices){\n                    await this.db.put(\"carwash_services\", item);\n                }\n            }\n            if (data.carwashTransactions) {\n                for (const item of data.carwashTransactions){\n                    await this.db.put(\"carwash_transactions\", item);\n                }\n            }\n            if (data.businessConfig) {\n                for (const item of data.businessConfig){\n                    await this.db.put(\"business_config\", item);\n                }\n            }\n            if (data.vehicleHistory) {\n                for (const item of data.vehicleHistory){\n                    await this.db.put(\"vehicle_history\", item);\n                }\n            }\n            console.log(\"✅ Datos importados correctamente\");\n        } catch (error) {\n            console.error(\"❌ Error importando datos:\", error);\n            throw error;\n        }\n    }\n    // === MÉTODOS PARA TIPOS DE VEHÍCULOS ===\n    async saveVehicleType(vehicleType) {\n        await this.init();\n        // Obtener configuración actual o crear una por defecto\n        let config = await this.getBusinessConfig();\n        if (!config) {\n            console.log(\"⚠️ No existe configuraci\\xf3n, creando una por defecto...\");\n            const defaultConfig = {\n                id: \"default-config\",\n                businessName: \"Wilson Cars & Wash\",\n                businessAddress: \"\",\n                businessPhone: \"\",\n                carParkingRate: 2000,\n                motorcycleParkingRate: 1500,\n                truckParkingRate: 3000,\n                carwashEnabled: true,\n                parkingEnabled: true,\n                vehicleTypes: [],\n                ticketData: {\n                    companyName: \"Wilson Cars & Wash\",\n                    companySubtitle: \"Parqueadero y Lavadero\",\n                    nit: \"000000000-0\",\n                    address: \"\",\n                    phone: \"\",\n                    email: \"\",\n                    website: \"\",\n                    footerMessage: \"Gracias por su visita\",\n                    footerInfo: \"Servicio 24/7\"\n                },\n                createdAt: new Date(),\n                updatedAt: new Date()\n            };\n            await this.saveBusinessConfig(defaultConfig);\n            config = defaultConfig;\n        }\n        // Verificar que no exista un tipo con el mismo nombre\n        const existingTypes = config.vehicleTypes || [];\n        const isDuplicate = existingTypes.some((type)=>type.name.toLowerCase() === vehicleType.name.toLowerCase());\n        if (isDuplicate) {\n            throw new Error(\"Ya existe un tipo de veh\\xedculo con este nombre\");\n        }\n        // Agregar el nuevo tipo\n        const updatedConfig = {\n            ...config,\n            vehicleTypes: [\n                ...existingTypes,\n                vehicleType\n            ],\n            updatedAt: new Date()\n        };\n        await this.saveBusinessConfig(updatedConfig);\n        console.log(\"✅ Tipo de veh\\xedculo guardado: \".concat(vehicleType.name));\n    }\n    async getVehicleTypes() {\n        await this.init();\n        const config = await this.getBusinessConfig();\n        return (config === null || config === void 0 ? void 0 : config.vehicleTypes) || [];\n    }\n    async updateVehicleType(vehicleTypeId, updates) {\n        await this.init();\n        const config = await this.getBusinessConfig();\n        if (!config) {\n            throw new Error(\"No se encontr\\xf3 configuraci\\xf3n del negocio\");\n        }\n        const vehicleTypes = config.vehicleTypes || [];\n        const typeIndex = vehicleTypes.findIndex((type)=>type.id === vehicleTypeId);\n        if (typeIndex === -1) {\n            throw new Error(\"Tipo de veh\\xedculo no encontrado\");\n        }\n        // Actualizar el tipo\n        vehicleTypes[typeIndex] = {\n            ...vehicleTypes[typeIndex],\n            ...updates,\n            updatedAt: new Date()\n        };\n        const updatedConfig = {\n            ...config,\n            vehicleTypes,\n            updatedAt: new Date()\n        };\n        await this.saveBusinessConfig(updatedConfig);\n        console.log(\"✅ Tipo de veh\\xedculo actualizado: \".concat(vehicleTypeId));\n    }\n    async deleteVehicleType(vehicleTypeId) {\n        await this.init();\n        const config = await this.getBusinessConfig();\n        if (!config) {\n            throw new Error(\"No se encontr\\xf3 configuraci\\xf3n del negocio\");\n        }\n        const vehicleTypes = config.vehicleTypes || [];\n        const typeToDelete = vehicleTypes.find((type)=>type.id === vehicleTypeId);\n        if (!typeToDelete) {\n            throw new Error(\"Tipo de veh\\xedculo no encontrado\");\n        }\n        // No permitir eliminar tipos predeterminados\n        if (!typeToDelete.isCustom) {\n            throw new Error(\"No se pueden eliminar tipos de veh\\xedculo predeterminados\");\n        }\n        // Filtrar el tipo a eliminar\n        const updatedVehicleTypes = vehicleTypes.filter((type)=>type.id !== vehicleTypeId);\n        const updatedConfig = {\n            ...config,\n            vehicleTypes: updatedVehicleTypes,\n            updatedAt: new Date()\n        };\n        await this.saveBusinessConfig(updatedConfig);\n        console.log(\"✅ Tipo de veh\\xedculo eliminado: \".concat(typeToDelete.name));\n    }\n    constructor(){\n        this.isInitialized = false;\n        this.dbName = \"POSLocalDatabase\";\n        this.version = 1;\n    }\n}\n// Instancia singleton\nconst localDatabase = new LocalDatabase();\n// Función helper para obtener la instancia\nfunction getLocalDB() {\n    return localDatabase;\n}\n// Exportar instancia por defecto\nconst localDB = localDatabase;\n/* harmony default export */ __webpack_exports__[\"default\"] = (localDatabase);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvbG9jYWxEYXRhYmFzZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxnRUFBZ0U7QUFDckI7QUFnSDNDLHFEQUFxRDtBQUNyRCxNQUFNQztJQU1KLHdCQUF3QjtJQUN4QixNQUFNQyxPQUFzQjtRQUMxQixJQUFJLElBQUksQ0FBQ0MsYUFBYSxFQUFFO1FBRXhCLElBQUk7WUFDRixJQUFJLENBQUNDLEVBQUUsR0FBRyxNQUFNSiwyQ0FBTUEsQ0FBQyxJQUFJLENBQUNLLE1BQU0sRUFBRSxJQUFJLENBQUNDLE9BQU8sRUFBRTtnQkFDaERDLFNBQVFILEVBQUU7b0JBQ1IsdUJBQXVCO29CQUN2QixJQUFJLENBQUNBLEdBQUdJLGdCQUFnQixDQUFDQyxRQUFRLENBQUMsYUFBYTt3QkFDN0MsTUFBTUMsZUFBZU4sR0FBR08saUJBQWlCLENBQUMsWUFBWTs0QkFBRUMsU0FBUzt3QkFBSzt3QkFDdEVGLGFBQWFHLFdBQVcsQ0FBQyxTQUFTLFNBQVM7NEJBQUVDLFFBQVE7d0JBQU07b0JBQzdEO29CQUVBLG9DQUFvQztvQkFDcEMsSUFBSSxDQUFDVixHQUFHSSxnQkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDLG9CQUFvQjt3QkFDcEQsTUFBTU0sZUFBZVgsR0FBR08saUJBQWlCLENBQUMsbUJBQW1COzRCQUFFQyxTQUFTO3dCQUFLO3dCQUM3RUcsYUFBYUYsV0FBVyxDQUFDLFNBQVMsU0FBUzs0QkFBRUMsUUFBUTt3QkFBTTt3QkFDM0RDLGFBQWFGLFdBQVcsQ0FBQyxVQUFVLFVBQVU7NEJBQUVDLFFBQVE7d0JBQU07d0JBQzdEQyxhQUFhRixXQUFXLENBQUMsYUFBYSxhQUFhOzRCQUFFQyxRQUFRO3dCQUFNO29CQUNyRTtvQkFFQSwwQkFBMEI7b0JBQzFCLElBQUksQ0FBQ1YsR0FBR0ksZ0JBQWdCLENBQUNDLFFBQVEsQ0FBQyxZQUFZO3dCQUM1QyxNQUFNTyxjQUFjWixHQUFHTyxpQkFBaUIsQ0FBQyxXQUFXOzRCQUFFQyxT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NkM7UUFDN0MsSUFBSSxDQUFDdUcsYUFBYUUsUUFBUSxFQUFFO1lBQzFCLE1BQU0sSUFBSXpHLE1BQU07UUFDbEI7UUFFQSw2QkFBNkI7UUFDN0IsTUFBTTBHLHNCQUFzQjVCLGFBQWF4RCxNQUFNLENBQUN1RSxDQUFBQSxPQUFRQSxLQUFLdkIsRUFBRSxLQUFLNEI7UUFFcEUsTUFBTUgsZ0JBQWdCO1lBQ3BCLEdBQUdyRCxNQUFNO1lBQ1RvQyxjQUFjNEI7WUFDZDNILFdBQVcsSUFBSUM7UUFDakI7UUFFQSxNQUFNLElBQUksQ0FBQ3lELGtCQUFrQixDQUFDc0Q7UUFDOUI3SCxRQUFRQyxHQUFHLENBQUMsb0NBQW1ELE9BQWxCb0ksYUFBYXZGLElBQUk7SUFDaEU7O2FBamhCUS9ELGdCQUFnQjthQUNoQkUsU0FBUzthQUNUQyxVQUFVOztBQWdoQnBCO0FBRUEsc0JBQXNCO0FBQ3RCLE1BQU11SixnQkFBZ0IsSUFBSTVKO0FBRTFCLDJDQUEyQztBQUNwQyxTQUFTNko7SUFDZCxPQUFPRDtBQUNUO0FBRUEsaUNBQWlDO0FBQzFCLE1BQU1FLFVBQVVGLGNBQWM7QUFDckMsK0RBQWVBLGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9sb2NhbERhdGFiYXNlLnRzPzRhZjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2lzdGVtYSBkZSBiYXNlIGRlIGRhdG9zIGxvY2FsOiBTb2xvIEluZGV4ZWREQiAoc2luIEZpcmViYXNlKVxyXG5pbXBvcnQgeyBvcGVuREIsIElEQlBEYXRhYmFzZSB9IGZyb20gJ2lkYic7XHJcbmltcG9ydCB7IHNhZmVEYXRlLCBzYWZlR2V0VGltZSwgc2FmZURhdGVEaWZmLCBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWxzL2RhdGVVdGlscyc7XHJcblxyXG4vLyBUaXBvcyBkZSBkYXRvc1xyXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtlciB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgcGhvbmU6IHN0cmluZztcclxuICBlbWFpbD86IHN0cmluZztcclxuICBwZXJjZW50YWdlOiBudW1iZXI7IC8vIFBvcmNlbnRhamUgcXVlIHNlIGxsZXZhIGRlbCBzZXJ2aWNpb1xyXG4gIGlzQWN0aXZlOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyd2FzaFNlcnZpY2Uge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdmVoaWNsZVR5cGU6IHN0cmluZztcclxuICBzZXJ2aWNlTmFtZTogc3RyaW5nO1xyXG4gIGJhc2VQcmljZTogbnVtYmVyO1xyXG4gIGVzdGltYXRlZFRpbWU6IG51bWJlcjsgLy8gZW4gbWludXRvc1xyXG4gIGlzQWN0aXZlOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyd2FzaFRyYW5zYWN0aW9uIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHRpY2tldElkOiBzdHJpbmc7XHJcbiAgcGxhY2E6IHN0cmluZztcclxuICB2ZWhpY2xlVHlwZTogc3RyaW5nO1xyXG4gIHNlcnZpY2VOYW1lOiBzdHJpbmc7XHJcbiAgYmFzZVByaWNlOiBudW1iZXI7XHJcbiAgd29ya2VySWQ6IHN0cmluZztcclxuICB3b3JrZXJOYW1lOiBzdHJpbmc7XHJcbiAgd29ya2VyUGVyY2VudGFnZTogbnVtYmVyO1xyXG4gIHdvcmtlckNvbW1pc3Npb246IG51bWJlcjtcclxuICBjb21wYW55RWFybmluZzogbnVtYmVyO1xyXG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ2luX3Byb2dyZXNzJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCc7XHJcbiAgc3RhcnRUaW1lOiBEYXRlO1xyXG4gIGVuZFRpbWU/OiBEYXRlO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmVoaWNsZSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBwbGFjYTogc3RyaW5nO1xyXG4gIHRpcG86ICdjYXInIHwgJ21vdG9yY3ljbGUnIHwgJ3RydWNrJztcclxuICBjb2xvcj86IHN0cmluZztcclxuICBtb2RlbG8/OiBzdHJpbmc7XHJcbiAgcHJvcGlldGFyaW8/OiBzdHJpbmc7XHJcbiAgdGVsZWZvbm8/OiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIHVwZGF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXJraW5nVGlja2V0IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHZlaGljbGVJZDogc3RyaW5nO1xyXG4gIHBsYWNhOiBzdHJpbmc7XHJcbiAgdmVoaWNsZVR5cGU6IHN0cmluZzsgLy8g4pyFIEFob3JhIGFjZXB0YSBjdWFscXVpZXIgc3RyaW5nICh0aXBvcyBwcmVkZXRlcm1pbmFkb3MgbyBJRHMgcGVyc29uYWxpemFkb3MpXHJcbiAgZW50cnlUaW1lOiBEYXRlO1xyXG4gIGV4aXRUaW1lPzogRGF0ZTtcclxuICB0b3RhbE1pbnV0ZXM/OiBudW1iZXI7XHJcbiAgYmFzZVByaWNlOiBudW1iZXI7XHJcbiAgdG90YWxBbW91bnQ/OiBudW1iZXI7XHJcbiAgYmFyY29kZT86IHN0cmluZzsgLy8gQ8OzZGlnbyBkZSBiYXJyYXMgZGVsIHRpY2tldFxyXG4gIGlzUGFpZDogYm9vbGVhbjtcclxuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2NvbXBsZXRlZCcgfCAnY2FuY2VsbGVkJztcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbiAgdXBkYXRlZEF0OiBEYXRlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFZlaGljbGVUeXBlQ29uZmlnIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBpY29uTmFtZTogc3RyaW5nO1xyXG4gIHRhcmlmYTogbnVtYmVyO1xyXG4gIGlzQ3VzdG9tOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ/OiBEYXRlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJ1c2luZXNzQ29uZmlnIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGJ1c2luZXNzTmFtZTogc3RyaW5nO1xyXG4gIGJ1c2luZXNzQWRkcmVzczogc3RyaW5nO1xyXG4gIGJ1c2luZXNzUGhvbmU6IHN0cmluZztcclxuICBjYXJQYXJraW5nUmF0ZTogbnVtYmVyO1xyXG4gIG1vdG9yY3ljbGVQYXJraW5nUmF0ZTogbnVtYmVyO1xyXG4gIHRydWNrUGFya2luZ1JhdGU6IG51bWJlcjtcclxuICBjYXJ3YXNoRW5hYmxlZDogYm9vbGVhbjtcclxuICBwYXJraW5nRW5hYmxlZDogYm9vbGVhbjtcclxuICAvLyBOdWV2b3MgY2FtcG9zIHBhcmEgdGlwb3MgZGUgdmVow61jdWxvcyBkaW7DoW1pY29zXHJcbiAgdmVoaWNsZVR5cGVzOiBWZWhpY2xlVHlwZUNvbmZpZ1tdO1xyXG4gIC8vIE51ZXZvcyBjYW1wb3MgcGFyYSBjb25maWd1cmFjacOzbiBkZSB0aWNrZXRzXHJcbiAgdGlja2V0RGF0YToge1xyXG4gICAgY29tcGFueU5hbWU6IHN0cmluZztcclxuICAgIGNvbXBhbnlTdWJ0aXRsZTogc3RyaW5nO1xyXG4gICAgbml0OiBzdHJpbmc7XHJcbiAgICBhZGRyZXNzOiBzdHJpbmc7XHJcbiAgICBwaG9uZTogc3RyaW5nO1xyXG4gICAgZW1haWw6IHN0cmluZztcclxuICAgIHdlYnNpdGU6IHN0cmluZztcclxuICAgIGZvb3Rlck1lc3NhZ2U6IHN0cmluZztcclxuICAgIGZvb3RlckluZm86IHN0cmluZztcclxuICB9O1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbi8vIENsYXNlIHByaW5jaXBhbCBwYXJhIG1hbmVqbyBkZSBiYXNlIGRlIGRhdG9zIGxvY2FsXHJcbmNsYXNzIExvY2FsRGF0YWJhc2Uge1xyXG4gIHByaXZhdGUgZGIhOiBJREJQRGF0YWJhc2U7XHJcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBkYk5hbWUgPSAnUE9TTG9jYWxEYXRhYmFzZSc7XHJcbiAgcHJpdmF0ZSB2ZXJzaW9uID0gMTtcclxuXHJcbiAgLy8gSW5pY2lhbGl6YXIgSW5kZXhlZERCXHJcbiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmRiID0gYXdhaXQgb3BlbkRCKHRoaXMuZGJOYW1lLCB0aGlzLnZlcnNpb24sIHtcclxuICAgICAgICB1cGdyYWRlKGRiKSB7XHJcbiAgICAgICAgICAvLyBTdG9yZSBwYXJhIHZlaMOtY3Vsb3NcclxuICAgICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygndmVoaWNsZXMnKSkge1xyXG4gICAgICAgICAgICBjb25zdCB2ZWhpY2xlU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZSgndmVoaWNsZXMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIHZlaGljbGVTdG9yZS5jcmVhdGVJbmRleCgncGxhY2EnLCAncGxhY2EnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU3RvcmUgcGFyYSB0aWNrZXRzIGRlIHBhcnF1ZWFkZXJvXHJcbiAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ3BhcmtpbmdfdGlja2V0cycpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmtpbmdTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdwYXJraW5nX3RpY2tldHMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIHBhcmtpbmdTdG9yZS5jcmVhdGVJbmRleCgncGxhY2EnLCAncGxhY2EnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIHBhcmtpbmdTdG9yZS5jcmVhdGVJbmRleCgnc3RhdHVzJywgJ3N0YXR1cycsIHsgdW5pcXVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgcGFya2luZ1N0b3JlLmNyZWF0ZUluZGV4KCdlbnRyeVRpbWUnLCAnZW50cnlUaW1lJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFN0b3JlIHBhcmEgdHJhYmFqYWRvcmVzXHJcbiAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ3dvcmtlcnMnKSkge1xyXG4gICAgICAgICAgICBjb25zdCB3b3JrZXJTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCd3b3JrZXJzJywgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgICAgICB3b3JrZXJTdG9yZS5jcmVhdGVJbmRleCgnbmFtZScsICduYW1lJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB3b3JrZXJTdG9yZS5jcmVhdGVJbmRleCgnaXNBY3RpdmUnLCAnaXNBY3RpdmUnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU3RvcmUgcGFyYSBzZXJ2aWNpb3MgZGUgbGF2YWRlcm9cclxuICAgICAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnY2Fyd2FzaF9zZXJ2aWNlcycpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdjYXJ3YXNoX3NlcnZpY2VzJywgeyBrZXlQYXRoOiAnaWQnIH0pO1xyXG4gICAgICAgICAgICBzZXJ2aWNlU3RvcmUuY3JlYXRlSW5kZXgoJ3ZlaGljbGVUeXBlJywgJ3ZlaGljbGVUeXBlJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICBzZXJ2aWNlU3RvcmUuY3JlYXRlSW5kZXgoJ2lzQWN0aXZlJywgJ2lzQWN0aXZlJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFN0b3JlIHBhcmEgdHJhbnNhY2Npb25lcyBkZSBsYXZhZGVyb1xyXG4gICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdjYXJ3YXNoX3RyYW5zYWN0aW9ucycpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY2Fyd2FzaF90cmFuc2FjdGlvbnMnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RvcmUuY3JlYXRlSW5kZXgoJ3BsYWNhJywgJ3BsYWNhJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB0cmFuc2FjdGlvblN0b3JlLmNyZWF0ZUluZGV4KCdzdGF0dXMnLCAnc3RhdHVzJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB0cmFuc2FjdGlvblN0b3JlLmNyZWF0ZUluZGV4KCd3b3JrZXJJZCcsICd3b3JrZXJJZCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZS5jcmVhdGVJbmRleCgnY3JlYXRlZEF0JywgJ2NyZWF0ZWRBdCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBTdG9yZSBwYXJhIGNvbmZpZ3VyYWNpw7NuIGRlbCBuZWdvY2lvXHJcbiAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ2J1c2luZXNzX2NvbmZpZycpKSB7XHJcbiAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdidXNpbmVzc19jb25maWcnLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gU3RvcmUgcGFyYSBoaXN0b3JpYWwgZGUgdmVow61jdWxvcyAocmVwb3J0ZXMpXHJcbiAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ3ZlaGljbGVfaGlzdG9yeScpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhpc3RvcnlTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCd2ZWhpY2xlX2hpc3RvcnknLCB7IGtleVBhdGg6ICdpZCcgfSk7XHJcbiAgICAgICAgICAgIGhpc3RvcnlTdG9yZS5jcmVhdGVJbmRleCgncGxhY2EnLCAncGxhY2EnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIGhpc3RvcnlTdG9yZS5jcmVhdGVJbmRleCgnZmVjaGEnLCAnZmVjaGEnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIGhpc3RvcnlTdG9yZS5jcmVhdGVJbmRleCgndGlwbycsICd0aXBvJywgeyB1bmlxdWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBMb2NhbERhdGFiYXNlIGluaWNpYWxpemFkYSBjb3JyZWN0YW1lbnRlJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW5pY2lhbGl6YW5kbyBMb2NhbERhdGFiYXNlOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gTcOJVE9ET1MgUEFSQSBWRUjDjUNVTE9TID09PVxyXG4gIGFzeW5jIHNhdmVWZWhpY2xlKHZlaGljbGU6IFZlaGljbGUpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5wdXQoJ3ZlaGljbGVzJywgdmVoaWNsZSk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFZlaMOtY3VsbyBndWFyZGFkbyBsb2NhbG1lbnRlOiAke3ZlaGljbGUucGxhY2F9YCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRWZWhpY2xlKHZlaGljbGVJZDogc3RyaW5nKTogUHJvbWlzZTxWZWhpY2xlIHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuZGIuZ2V0KCd2ZWhpY2xlcycsIHZlaGljbGVJZCkpIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRBbGxWZWhpY2xlcygpOiBQcm9taXNlPFZlaGljbGVbXT4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYi5nZXRBbGwoJ3ZlaGljbGVzJyk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVWZWhpY2xlKHZlaGljbGU6IFZlaGljbGUpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgdmVoaWNsZS51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5wdXQoJ3ZlaGljbGVzJywgdmVoaWNsZSk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFZlaMOtY3VsbyBhY3R1YWxpemFkbyBsb2NhbG1lbnRlOiAke3ZlaGljbGUucGxhY2F9YCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWxldGVWZWhpY2xlKHZlaGljbGVJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIGF3YWl0IHRoaXMuZGIuZGVsZXRlKCd2ZWhpY2xlcycsIHZlaGljbGVJZCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFZlaMOtY3VsbyBlbGltaW5hZG8gbG9jYWxtZW50ZTogJHt2ZWhpY2xlSWR9YCk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gTcOJVE9ET1MgUEFSQSBUSUNLRVRTIERFIFBBUlFVRUFERVJPID09PVxyXG4gIGFzeW5jIHNhdmVQYXJraW5nVGlja2V0KHRpY2tldDogUGFya2luZ1RpY2tldCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBhd2FpdCB0aGlzLmRiLnB1dCgncGFya2luZ190aWNrZXRzJywgdGlja2V0KTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgVGlja2V0IGRlIHBhcnF1ZWFkZXJvIGd1YXJkYWRvIGxvY2FsbWVudGU6ICR7dGlja2V0LnBsYWNhfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0UGFya2luZ1RpY2tldCh0aWNrZXRJZDogc3RyaW5nKTogUHJvbWlzZTxQYXJraW5nVGlja2V0IHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuZGIuZ2V0KCdwYXJraW5nX3RpY2tldHMnLCB0aWNrZXRJZCkpIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQYXJraW5nVGlja2V0cyhzdGF0dXM/OiAnYWN0aXZlJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCcpOiBQcm9taXNlPFBhcmtpbmdUaWNrZXRbXT4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBcclxuICAgIGlmIChzdGF0dXMpIHtcclxuICAgICAgY29uc3QgdHggPSB0aGlzLmRiLnRyYW5zYWN0aW9uKCdwYXJraW5nX3RpY2tldHMnLCAncmVhZG9ubHknKTtcclxuICAgICAgY29uc3QgaW5kZXggPSB0eC5zdG9yZS5pbmRleCgnc3RhdHVzJyk7XHJcbiAgICAgIHJldHVybiBhd2FpdCBpbmRleC5nZXRBbGwoc3RhdHVzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGIuZ2V0QWxsKCdwYXJraW5nX3RpY2tldHMnKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVBhcmtpbmdUaWNrZXQodGlja2V0OiBQYXJraW5nVGlja2V0KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIHRpY2tldC51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5wdXQoJ3BhcmtpbmdfdGlja2V0cycsIHRpY2tldCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFRpY2tldCBkZSBwYXJxdWVhZGVybyBhY3R1YWxpemFkbyBsb2NhbG1lbnRlOiAke3RpY2tldC5wbGFjYX1gKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNvbXBsZXRlUGFya2luZ1RpY2tldCh0aWNrZXRJZDogc3RyaW5nLCBleGl0VGltZT86IERhdGUpOiBQcm9taXNlPFBhcmtpbmdUaWNrZXQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCB0aWNrZXQgPSBhd2FpdCB0aGlzLmdldFBhcmtpbmdUaWNrZXQodGlja2V0SWQpO1xyXG4gICAgaWYgKCF0aWNrZXQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaWNrZXQgbm8gZW5jb250cmFkbzogJHt0aWNrZXRJZH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBleGl0ID0gZXhpdFRpbWUgfHwgbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IGVudHJ5ID0gbmV3IERhdGUodGlja2V0LmVudHJ5VGltZSk7XHJcbiAgICBjb25zdCB0b3RhbE1pbnV0ZXMgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKChleGl0LmdldFRpbWUoKSAtIGVudHJ5LmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSkpO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhciBlbCBtb250byB0b3RhbCBiYXNhZG8gZW4gZWwgcHJlY2lvIGJhc2UgeSB0aWVtcG9cclxuICAgIC8vIFNpIHlhIHRpZW5lIHRvdGFsQW1vdW50LCB1c2FybG8sIHNpbm8gY2FsY3VsYXJcclxuICAgIGNvbnN0IHRvdGFsQW1vdW50ID0gdGlja2V0LnRvdGFsQW1vdW50IHx8IHRpY2tldC5iYXNlUHJpY2U7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZFRpY2tldDogUGFya2luZ1RpY2tldCA9IHtcclxuICAgICAgLi4udGlja2V0LFxyXG4gICAgICBleGl0VGltZTogZXhpdCxcclxuICAgICAgdG90YWxNaW51dGVzLFxyXG4gICAgICB0b3RhbEFtb3VudCxcclxuICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcclxuICAgICAgaXNQYWlkOiB0cnVlLFxyXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgIH07XHJcblxyXG4gICAgYXdhaXQgdGhpcy51cGRhdGVQYXJraW5nVGlja2V0KHVwZGF0ZWRUaWNrZXQpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBUaWNrZXQgY29tcGxldGFkbyBsb2NhbG1lbnRlOiAke3RpY2tldC5wbGFjYX0gLSAkJHt0b3RhbEFtb3VudH1gKTtcclxuICAgIHJldHVybiB1cGRhdGVkVGlja2V0O1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlUGFya2luZ1RpY2tldCh0aWNrZXRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIGF3YWl0IHRoaXMuZGIuZGVsZXRlKCdwYXJraW5nX3RpY2tldHMnLCB0aWNrZXRJZCk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFRpY2tldCBlbGltaW5hZG8gbG9jYWxtZW50ZTogJHt0aWNrZXRJZH1gKTtcclxuICB9XHJcblxyXG4gIC8vID09PSBNw4lUT0RPUyBQQVJBIFRSQUJBSkFET1JFUyA9PT1cclxuICBhc3luYyBzYXZlV29ya2VyKHdvcmtlcjogV29ya2VyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIGF3YWl0IHRoaXMuZGIucHV0KCd3b3JrZXJzJywgd29ya2VyKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgVHJhYmFqYWRvciBndWFyZGFkbyBsb2NhbG1lbnRlOiAke3dvcmtlci5uYW1lfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0V29ya2VyKHdvcmtlcklkOiBzdHJpbmcpOiBQcm9taXNlPFdvcmtlciB8IG51bGw+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgcmV0dXJuIChhd2FpdCB0aGlzLmRiLmdldCgnd29ya2VycycsIHdvcmtlcklkKSkgfHwgbnVsbDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEFsbFdvcmtlcnMoYWN0aXZlT25seTogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxXb3JrZXJbXT4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGFsbFdvcmtlcnMgPSBhd2FpdCB0aGlzLmRiLmdldEFsbCgnd29ya2VycycpO1xyXG4gICAgXHJcbiAgICBpZiAoYWN0aXZlT25seSkge1xyXG4gICAgICByZXR1cm4gYWxsV29ya2Vycy5maWx0ZXIod29ya2VyID0+IHdvcmtlci5pc0FjdGl2ZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBhbGxXb3JrZXJzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlV29ya2VyKHdvcmtlcjogV29ya2VyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIHdvcmtlci51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5wdXQoJ3dvcmtlcnMnLCB3b3JrZXIpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBUcmFiYWphZG9yIGFjdHVhbGl6YWRvIGxvY2FsbWVudGU6ICR7d29ya2VyLm5hbWV9YCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBkZWxldGVXb3JrZXIod29ya2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBhd2FpdCB0aGlzLmRiLmRlbGV0ZSgnd29ya2VycycsIHdvcmtlcklkKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgVHJhYmFqYWRvciBlbGltaW5hZG8gbG9jYWxtZW50ZTogJHt3b3JrZXJJZH1gKTtcclxuICB9XHJcblxyXG4gIC8vID09PSBNw4lUT0RPUyBQQVJBIFNFUlZJQ0lPUyBERSBMQVZBREVSTyA9PT1cclxuICBhc3luYyBzYXZlQ2Fyd2FzaFNlcnZpY2Uoc2VydmljZTogQ2Fyd2FzaFNlcnZpY2UpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5wdXQoJ2Nhcndhc2hfc2VydmljZXMnLCBzZXJ2aWNlKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgU2VydmljaW8gZGUgbGF2YWRlcm8gZ3VhcmRhZG8gbG9jYWxtZW50ZTogJHtzZXJ2aWNlLnNlcnZpY2VOYW1lfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0Q2Fyd2FzaFNlcnZpY2Uoc2VydmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPENhcndhc2hTZXJ2aWNlIHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuZGIuZ2V0KCdjYXJ3YXNoX3NlcnZpY2VzJywgc2VydmljZUlkKSkgfHwgbnVsbDtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldEFsbENhcndhc2hTZXJ2aWNlcyhhY3RpdmVPbmx5OiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPENhcndhc2hTZXJ2aWNlW10+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBhbGxTZXJ2aWNlcyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsKCdjYXJ3YXNoX3NlcnZpY2VzJyk7XHJcbiAgICBcclxuICAgIGlmIChhY3RpdmVPbmx5KSB7XHJcbiAgICAgIHJldHVybiBhbGxTZXJ2aWNlcy5maWx0ZXIoc2VydmljZSA9PiBzZXJ2aWNlLmlzQWN0aXZlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGFsbFNlcnZpY2VzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlQ2Fyd2FzaFNlcnZpY2Uoc2VydmljZTogQ2Fyd2FzaFNlcnZpY2UpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgc2VydmljZS51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5wdXQoJ2Nhcndhc2hfc2VydmljZXMnLCBzZXJ2aWNlKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgU2VydmljaW8gZGUgbGF2YWRlcm8gYWN0dWFsaXphZG8gbG9jYWxtZW50ZTogJHtzZXJ2aWNlLnNlcnZpY2VOYW1lfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlQ2Fyd2FzaFNlcnZpY2Uoc2VydmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgYXdhaXQgdGhpcy5kYi5kZWxldGUoJ2Nhcndhc2hfc2VydmljZXMnLCBzZXJ2aWNlSWQpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBTZXJ2aWNpbyBlbGltaW5hZG8gbG9jYWxtZW50ZTogJHtzZXJ2aWNlSWR9YCk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gTcOJVE9ET1MgUEFSQSBUUkFOU0FDQ0lPTkVTIERFIExBVkFERVJPID09PVxyXG4gIGFzeW5jIHNhdmVDYXJ3YXNoVHJhbnNhY3Rpb24odHJhbnNhY3Rpb246IENhcndhc2hUcmFuc2FjdGlvbik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBhd2FpdCB0aGlzLmRiLnB1dCgnY2Fyd2FzaF90cmFuc2FjdGlvbnMnLCB0cmFuc2FjdGlvbik7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFRyYW5zYWNjacOzbiBkZSBsYXZhZGVybyBndWFyZGFkYSBsb2NhbG1lbnRlOiAke3RyYW5zYWN0aW9uLnBsYWNhfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0Q2Fyd2FzaFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8Q2Fyd2FzaFRyYW5zYWN0aW9uIHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuZGIuZ2V0KCdjYXJ3YXNoX3RyYW5zYWN0aW9ucycsIHRyYW5zYWN0aW9uSWQpKSB8fCBudWxsO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0QWxsQ2Fyd2FzaFRyYW5zYWN0aW9ucyhzdGF0dXM/OiBzdHJpbmcpOiBQcm9taXNlPENhcndhc2hUcmFuc2FjdGlvbltdPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIFxyXG4gICAgaWYgKHN0YXR1cykge1xyXG4gICAgICBjb25zdCB0eCA9IHRoaXMuZGIudHJhbnNhY3Rpb24oJ2Nhcndhc2hfdHJhbnNhY3Rpb25zJywgJ3JlYWRvbmx5Jyk7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gdHguc3RvcmUuaW5kZXgoJ3N0YXR1cycpO1xyXG4gICAgICByZXR1cm4gYXdhaXQgaW5kZXguZ2V0QWxsKHN0YXR1cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldEFsbCgnY2Fyd2FzaF90cmFuc2FjdGlvbnMnKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZUNhcndhc2hUcmFuc2FjdGlvbih0cmFuc2FjdGlvbjogQ2Fyd2FzaFRyYW5zYWN0aW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIHRyYW5zYWN0aW9uLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XHJcbiAgICBhd2FpdCB0aGlzLmRiLnB1dCgnY2Fyd2FzaF90cmFuc2FjdGlvbnMnLCB0cmFuc2FjdGlvbik7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFRyYW5zYWNjacOzbiBhY3R1YWxpemFkYSBsb2NhbG1lbnRlOiAke3RyYW5zYWN0aW9uLnBsYWNhfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVsZXRlQ2Fyd2FzaFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBhd2FpdCB0aGlzLmRiLmRlbGV0ZSgnY2Fyd2FzaF90cmFuc2FjdGlvbnMnLCB0cmFuc2FjdGlvbklkKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgVHJhbnNhY2Npw7NuIGVsaW1pbmFkYSBsb2NhbG1lbnRlOiAke3RyYW5zYWN0aW9uSWR9YCk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gTcOJVE9ET1MgUEFSQSBDT05GSUdVUkFDScOTTiBERUwgTkVHT0NJTyA9PT1cclxuICBhc3luYyBzYXZlQnVzaW5lc3NDb25maWcoY29uZmlnOiBCdXNpbmVzc0NvbmZpZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBhd2FpdCB0aGlzLmRiLnB1dCgnYnVzaW5lc3NfY29uZmlnJywgY29uZmlnKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgQ29uZmlndXJhY2nDs24gZ3VhcmRhZGEgbG9jYWxtZW50ZTogJHtjb25maWcuYnVzaW5lc3NOYW1lfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0QnVzaW5lc3NDb25maWcoKTogUHJvbWlzZTxCdXNpbmVzc0NvbmZpZyB8IG51bGw+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgY29uc3QgY29uZmlncyA9IGF3YWl0IHRoaXMuZGIuZ2V0QWxsKCdidXNpbmVzc19jb25maWcnKTtcclxuICAgIHJldHVybiBjb25maWdzLmxlbmd0aCA+IDAgPyBjb25maWdzWzBdIDogbnVsbDtcclxuICB9XHJcblxyXG4gIC8vID09PSBNw4lUT0RPUyBQQVJBIEhJU1RPUklBTCAoUkVQT1JURVMpID09PVxyXG4gIGFzeW5jIHNhdmVQYXJraW5nUmVjb3JkKHJlY29yZDogYW55KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIGF3YWl0IHRoaXMuZGIucHV0KCd2ZWhpY2xlX2hpc3RvcnknLCByZWNvcmQpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBSZWdpc3RybyBkZSBoaXN0b3JpYWwgZ3VhcmRhZG8gbG9jYWxtZW50ZTogJHtyZWNvcmQucGxhY2F9YCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRQYXJraW5nSGlzdG9yeSgpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIHJldHVybiBhd2FpdCB0aGlzLmRiLmdldEFsbCgndmVoaWNsZV9oaXN0b3J5Jyk7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gTcOJVE9ET1MgREUgVVRJTElEQUQgPT09XHJcbiAgYXN5bmMgY2xlYXJBbGxEYXRhKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHN0b3JlcyA9IFtcclxuICAgICAgJ3ZlaGljbGVzJyxcclxuICAgICAgJ3BhcmtpbmdfdGlja2V0cycsIFxyXG4gICAgICAnd29ya2VycycsXHJcbiAgICAgICdjYXJ3YXNoX3NlcnZpY2VzJyxcclxuICAgICAgJ2Nhcndhc2hfdHJhbnNhY3Rpb25zJyxcclxuICAgICAgJ2J1c2luZXNzX2NvbmZpZycsXHJcbiAgICAgICd2ZWhpY2xlX2hpc3RvcnknXHJcbiAgICBdO1xyXG5cclxuICAgIGZvciAoY29uc3Qgc3RvcmVOYW1lIG9mIHN0b3Jlcykge1xyXG4gICAgICBhd2FpdCB0aGlzLmRiLmNsZWFyKHN0b3JlTmFtZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCfinIUgVG9kb3MgbG9zIGRhdG9zIGxvY2FsZXMgaGFuIHNpZG8gZWxpbWluYWRvcycpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZXhwb3J0RGF0YSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIHZlaGljbGVzOiBhd2FpdCB0aGlzLmRiLmdldEFsbCgndmVoaWNsZXMnKSxcclxuICAgICAgcGFya2luZ1RpY2tldHM6IGF3YWl0IHRoaXMuZGIuZ2V0QWxsKCdwYXJraW5nX3RpY2tldHMnKSxcclxuICAgICAgd29ya2VyczogYXdhaXQgdGhpcy5kYi5nZXRBbGwoJ3dvcmtlcnMnKSxcclxuICAgICAgY2Fyd2FzaFNlcnZpY2VzOiBhd2FpdCB0aGlzLmRiLmdldEFsbCgnY2Fyd2FzaF9zZXJ2aWNlcycpLFxyXG4gICAgICBjYXJ3YXNoVHJhbnNhY3Rpb25zOiBhd2FpdCB0aGlzLmRiLmdldEFsbCgnY2Fyd2FzaF90cmFuc2FjdGlvbnMnKSxcclxuICAgICAgYnVzaW5lc3NDb25maWc6IGF3YWl0IHRoaXMuZGIuZ2V0QWxsKCdidXNpbmVzc19jb25maWcnKSxcclxuICAgICAgdmVoaWNsZUhpc3Rvcnk6IGF3YWl0IHRoaXMuZGIuZ2V0QWxsKCd2ZWhpY2xlX2hpc3RvcnknKSxcclxuICAgICAgZXhwb3J0RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfinIUgRGF0b3MgZXhwb3J0YWRvcyBjb3JyZWN0YW1lbnRlJyk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGltcG9ydERhdGEoZGF0YTogYW55KTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXQoKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTGltcGlhciBkYXRvcyBleGlzdGVudGVzXHJcbiAgICAgIGF3YWl0IHRoaXMuY2xlYXJBbGxEYXRhKCk7XHJcblxyXG4gICAgICAvLyBJbXBvcnRhciBjYWRhIHRpcG8gZGUgZGF0b1xyXG4gICAgICBpZiAoZGF0YS52ZWhpY2xlcykge1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhLnZlaGljbGVzKSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnB1dCgndmVoaWNsZXMnLCBpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkYXRhLnBhcmtpbmdUaWNrZXRzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGEucGFya2luZ1RpY2tldHMpIHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIucHV0KCdwYXJraW5nX3RpY2tldHMnLCBpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkYXRhLndvcmtlcnMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YS53b3JrZXJzKSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnB1dCgnd29ya2VycycsIGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRhdGEuY2Fyd2FzaFNlcnZpY2VzKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGRhdGEuY2Fyd2FzaFNlcnZpY2VzKSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLmRiLnB1dCgnY2Fyd2FzaF9zZXJ2aWNlcycsIGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRhdGEuY2Fyd2FzaFRyYW5zYWN0aW9ucykge1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhLmNhcndhc2hUcmFuc2FjdGlvbnMpIHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIucHV0KCdjYXJ3YXNoX3RyYW5zYWN0aW9ucycsIGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRhdGEuYnVzaW5lc3NDb25maWcpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YS5idXNpbmVzc0NvbmZpZykge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5wdXQoJ2J1c2luZXNzX2NvbmZpZycsIGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGRhdGEudmVoaWNsZUhpc3RvcnkpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YS52ZWhpY2xlSGlzdG9yeSkge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5wdXQoJ3ZlaGljbGVfaGlzdG9yeScsIGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBEYXRvcyBpbXBvcnRhZG9zIGNvcnJlY3RhbWVudGUnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBpbXBvcnRhbmRvIGRhdG9zOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gTcOJVE9ET1MgUEFSQSBUSVBPUyBERSBWRUjDjUNVTE9TID09PVxyXG4gIGFzeW5jIHNhdmVWZWhpY2xlVHlwZSh2ZWhpY2xlVHlwZTogVmVoaWNsZVR5cGVDb25maWcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgXHJcbiAgICAvLyBPYnRlbmVyIGNvbmZpZ3VyYWNpw7NuIGFjdHVhbCBvIGNyZWFyIHVuYSBwb3IgZGVmZWN0b1xyXG4gICAgbGV0IGNvbmZpZyA9IGF3YWl0IHRoaXMuZ2V0QnVzaW5lc3NDb25maWcoKTtcclxuICAgIGlmICghY29uZmlnKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gTm8gZXhpc3RlIGNvbmZpZ3VyYWNpw7NuLCBjcmVhbmRvIHVuYSBwb3IgZGVmZWN0by4uLicpO1xyXG4gICAgICBjb25zdCBkZWZhdWx0Q29uZmlnOiBCdXNpbmVzc0NvbmZpZyA9IHtcclxuICAgICAgICBpZDogJ2RlZmF1bHQtY29uZmlnJyxcclxuICAgICAgICBidXNpbmVzc05hbWU6ICdXaWxzb24gQ2FycyAmIFdhc2gnLFxyXG4gICAgICAgIGJ1c2luZXNzQWRkcmVzczogJycsXHJcbiAgICAgICAgYnVzaW5lc3NQaG9uZTogJycsXHJcbiAgICAgICAgY2FyUGFya2luZ1JhdGU6IDIwMDAsXHJcbiAgICAgICAgbW90b3JjeWNsZVBhcmtpbmdSYXRlOiAxNTAwLFxyXG4gICAgICAgIHRydWNrUGFya2luZ1JhdGU6IDMwMDAsXHJcbiAgICAgICAgY2Fyd2FzaEVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgcGFya2luZ0VuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgdmVoaWNsZVR5cGVzOiBbXSxcclxuICAgICAgICB0aWNrZXREYXRhOiB7XHJcbiAgICAgICAgICBjb21wYW55TmFtZTogJ1dpbHNvbiBDYXJzICYgV2FzaCcsXHJcbiAgICAgICAgICBjb21wYW55U3VidGl0bGU6ICdQYXJxdWVhZGVybyB5IExhdmFkZXJvJyxcclxuICAgICAgICAgIG5pdDogJzAwMDAwMDAwMC0wJyxcclxuICAgICAgICAgIGFkZHJlc3M6ICcnLFxyXG4gICAgICAgICAgcGhvbmU6ICcnLFxyXG4gICAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgICAgd2Vic2l0ZTogJycsXHJcbiAgICAgICAgICBmb290ZXJNZXNzYWdlOiAnR3JhY2lhcyBwb3Igc3UgdmlzaXRhJyxcclxuICAgICAgICAgIGZvb3RlckluZm86ICdTZXJ2aWNpbyAyNC83J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICB9O1xyXG4gICAgICBhd2FpdCB0aGlzLnNhdmVCdXNpbmVzc0NvbmZpZyhkZWZhdWx0Q29uZmlnKTtcclxuICAgICAgY29uZmlnID0gZGVmYXVsdENvbmZpZztcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYXIgcXVlIG5vIGV4aXN0YSB1biB0aXBvIGNvbiBlbCBtaXNtbyBub21icmVcclxuICAgIGNvbnN0IGV4aXN0aW5nVHlwZXMgPSBjb25maWcudmVoaWNsZVR5cGVzIHx8IFtdO1xyXG4gICAgY29uc3QgaXNEdXBsaWNhdGUgPSBleGlzdGluZ1R5cGVzLnNvbWUodHlwZSA9PiBcclxuICAgICAgdHlwZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHZlaGljbGVUeXBlLm5hbWUudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoaXNEdXBsaWNhdGUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZYSBleGlzdGUgdW4gdGlwbyBkZSB2ZWjDrWN1bG8gY29uIGVzdGUgbm9tYnJlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWdyZWdhciBlbCBudWV2byB0aXBvXHJcbiAgICBjb25zdCB1cGRhdGVkQ29uZmlnID0ge1xyXG4gICAgICAuLi5jb25maWcsXHJcbiAgICAgIHZlaGljbGVUeXBlczogWy4uLmV4aXN0aW5nVHlwZXMsIHZlaGljbGVUeXBlXSxcclxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICB9O1xyXG5cclxuICAgIGF3YWl0IHRoaXMuc2F2ZUJ1c2luZXNzQ29uZmlnKHVwZGF0ZWRDb25maWcpO1xyXG4gICAgY29uc29sZS5sb2coYOKchSBUaXBvIGRlIHZlaMOtY3VsbyBndWFyZGFkbzogJHt2ZWhpY2xlVHlwZS5uYW1lfWApO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0VmVoaWNsZVR5cGVzKCk6IFByb21pc2U8VmVoaWNsZVR5cGVDb25maWdbXT4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHRoaXMuZ2V0QnVzaW5lc3NDb25maWcoKTtcclxuICAgIHJldHVybiBjb25maWc/LnZlaGljbGVUeXBlcyB8fCBbXTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHVwZGF0ZVZlaGljbGVUeXBlKHZlaGljbGVUeXBlSWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxWZWhpY2xlVHlwZUNvbmZpZz4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBjb25maWcgPSBhd2FpdCB0aGlzLmdldEJ1c2luZXNzQ29uZmlnKCk7XHJcbiAgICBpZiAoIWNvbmZpZykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlIGVuY29udHLDsyBjb25maWd1cmFjacOzbiBkZWwgbmVnb2NpbycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZlaGljbGVUeXBlcyA9IGNvbmZpZy52ZWhpY2xlVHlwZXMgfHwgW107XHJcbiAgICBjb25zdCB0eXBlSW5kZXggPSB2ZWhpY2xlVHlwZXMuZmluZEluZGV4KHR5cGUgPT4gdHlwZS5pZCA9PT0gdmVoaWNsZVR5cGVJZCk7XHJcbiAgICBcclxuICAgIGlmICh0eXBlSW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGlwbyBkZSB2ZWjDrWN1bG8gbm8gZW5jb250cmFkbycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZWwgdGlwb1xyXG4gICAgdmVoaWNsZVR5cGVzW3R5cGVJbmRleF0gPSB7XHJcbiAgICAgIC4uLnZlaGljbGVUeXBlc1t0eXBlSW5kZXhdLFxyXG4gICAgICAuLi51cGRhdGVzLFxyXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgdXBkYXRlZENvbmZpZyA9IHtcclxuICAgICAgLi4uY29uZmlnLFxyXG4gICAgICB2ZWhpY2xlVHlwZXMsXHJcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgfTtcclxuXHJcbiAgICBhd2FpdCB0aGlzLnNhdmVCdXNpbmVzc0NvbmZpZyh1cGRhdGVkQ29uZmlnKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgVGlwbyBkZSB2ZWjDrWN1bG8gYWN0dWFsaXphZG86ICR7dmVoaWNsZVR5cGVJZH1gKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRlbGV0ZVZlaGljbGVUeXBlKHZlaGljbGVUeXBlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHRoaXMuZ2V0QnVzaW5lc3NDb25maWcoKTtcclxuICAgIGlmICghY29uZmlnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgZW5jb250csOzIGNvbmZpZ3VyYWNpw7NuIGRlbCBuZWdvY2lvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmVoaWNsZVR5cGVzID0gY29uZmlnLnZlaGljbGVUeXBlcyB8fCBbXTtcclxuICAgIGNvbnN0IHR5cGVUb0RlbGV0ZSA9IHZlaGljbGVUeXBlcy5maW5kKHR5cGUgPT4gdHlwZS5pZCA9PT0gdmVoaWNsZVR5cGVJZCk7XHJcbiAgICBcclxuICAgIGlmICghdHlwZVRvRGVsZXRlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGlwbyBkZSB2ZWjDrWN1bG8gbm8gZW5jb250cmFkbycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vIHBlcm1pdGlyIGVsaW1pbmFyIHRpcG9zIHByZWRldGVybWluYWRvc1xyXG4gICAgaWYgKCF0eXBlVG9EZWxldGUuaXNDdXN0b20pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBwdWVkZW4gZWxpbWluYXIgdGlwb3MgZGUgdmVow61jdWxvIHByZWRldGVybWluYWRvcycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbHRyYXIgZWwgdGlwbyBhIGVsaW1pbmFyXHJcbiAgICBjb25zdCB1cGRhdGVkVmVoaWNsZVR5cGVzID0gdmVoaWNsZVR5cGVzLmZpbHRlcih0eXBlID0+IHR5cGUuaWQgIT09IHZlaGljbGVUeXBlSWQpO1xyXG5cclxuICAgIGNvbnN0IHVwZGF0ZWRDb25maWcgPSB7XHJcbiAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgdmVoaWNsZVR5cGVzOiB1cGRhdGVkVmVoaWNsZVR5cGVzLFxyXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgIH07XHJcblxyXG4gICAgYXdhaXQgdGhpcy5zYXZlQnVzaW5lc3NDb25maWcodXBkYXRlZENvbmZpZyk7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIFRpcG8gZGUgdmVow61jdWxvIGVsaW1pbmFkbzogJHt0eXBlVG9EZWxldGUubmFtZX1gKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEluc3RhbmNpYSBzaW5nbGV0b25cclxuY29uc3QgbG9jYWxEYXRhYmFzZSA9IG5ldyBMb2NhbERhdGFiYXNlKCk7XHJcblxyXG4vLyBGdW5jacOzbiBoZWxwZXIgcGFyYSBvYnRlbmVyIGxhIGluc3RhbmNpYVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxEQigpOiBMb2NhbERhdGFiYXNlIHtcclxuICByZXR1cm4gbG9jYWxEYXRhYmFzZTtcclxufVxyXG5cclxuLy8gRXhwb3J0YXIgaW5zdGFuY2lhIHBvciBkZWZlY3RvXHJcbmV4cG9ydCBjb25zdCBsb2NhbERCID0gbG9jYWxEYXRhYmFzZTtcclxuZXhwb3J0IGRlZmF1bHQgbG9jYWxEYXRhYmFzZTsiXSwibmFtZXMiOlsib3BlbkRCIiwiTG9jYWxEYXRhYmFzZSIsImluaXQiLCJpc0luaXRpYWxpemVkIiwiZGIiLCJkYk5hbWUiLCJ2ZXJzaW9uIiwidXBncmFkZSIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsInZlaGljbGVTdG9yZSIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwicGFya2luZ1N0b3JlIiwid29ya2VyU3RvcmUiLCJzZXJ2aWNlU3RvcmUiLCJ0cmFuc2FjdGlvblN0b3JlIiwiaGlzdG9yeVN0b3JlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwic2F2ZVZlaGljbGUiLCJ2ZWhpY2xlIiwicHV0IiwicGxhY2EiLCJnZXRWZWhpY2xlIiwidmVoaWNsZUlkIiwiZ2V0IiwiZ2V0QWxsVmVoaWNsZXMiLCJnZXRBbGwiLCJ1cGRhdGVWZWhpY2xlIiwidXBkYXRlZEF0IiwiRGF0ZSIsImRlbGV0ZVZlaGljbGUiLCJkZWxldGUiLCJzYXZlUGFya2luZ1RpY2tldCIsInRpY2tldCIsImdldFBhcmtpbmdUaWNrZXQiLCJ0aWNrZXRJZCIsImdldFBhcmtpbmdUaWNrZXRzIiwic3RhdHVzIiwidHgiLCJ0cmFuc2FjdGlvbiIsImluZGV4Iiwic3RvcmUiLCJ1cGRhdGVQYXJraW5nVGlja2V0IiwiY29tcGxldGVQYXJraW5nVGlja2V0IiwiZXhpdFRpbWUiLCJFcnJvciIsImV4aXQiLCJlbnRyeSIsImVudHJ5VGltZSIsInRvdGFsTWludXRlcyIsIk1hdGgiLCJtYXgiLCJmbG9vciIsImdldFRpbWUiLCJ0b3RhbEFtb3VudCIsImJhc2VQcmljZSIsInVwZGF0ZWRUaWNrZXQiLCJpc1BhaWQiLCJkZWxldGVQYXJraW5nVGlja2V0Iiwic2F2ZVdvcmtlciIsIndvcmtlciIsIm5hbWUiLCJnZXRXb3JrZXIiLCJ3b3JrZXJJZCIsImdldEFsbFdvcmtlcnMiLCJhY3RpdmVPbmx5IiwiYWxsV29ya2VycyIsImZpbHRlciIsImlzQWN0aXZlIiwidXBkYXRlV29ya2VyIiwiZGVsZXRlV29ya2VyIiwic2F2ZUNhcndhc2hTZXJ2aWNlIiwic2VydmljZSIsInNlcnZpY2VOYW1lIiwiZ2V0Q2Fyd2FzaFNlcnZpY2UiLCJzZXJ2aWNlSWQiLCJnZXRBbGxDYXJ3YXNoU2VydmljZXMiLCJhbGxTZXJ2aWNlcyIsInVwZGF0ZUNhcndhc2hTZXJ2aWNlIiwiZGVsZXRlQ2Fyd2FzaFNlcnZpY2UiLCJzYXZlQ2Fyd2FzaFRyYW5zYWN0aW9uIiwiZ2V0Q2Fyd2FzaFRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb25JZCIsImdldEFsbENhcndhc2hUcmFuc2FjdGlvbnMiLCJ1cGRhdGVDYXJ3YXNoVHJhbnNhY3Rpb24iLCJkZWxldGVDYXJ3YXNoVHJhbnNhY3Rpb24iLCJzYXZlQnVzaW5lc3NDb25maWciLCJjb25maWciLCJidXNpbmVzc05hbWUiLCJnZXRCdXNpbmVzc0NvbmZpZyIsImNvbmZpZ3MiLCJsZW5ndGgiLCJzYXZlUGFya2luZ1JlY29yZCIsInJlY29yZCIsImdldFBhcmtpbmdIaXN0b3J5IiwiY2xlYXJBbGxEYXRhIiwic3RvcmVzIiwic3RvcmVOYW1lIiwiY2xlYXIiLCJleHBvcnREYXRhIiwiZGF0YSIsInZlaGljbGVzIiwicGFya2luZ1RpY2tldHMiLCJ3b3JrZXJzIiwiY2Fyd2FzaFNlcnZpY2VzIiwiY2Fyd2FzaFRyYW5zYWN0aW9ucyIsImJ1c2luZXNzQ29uZmlnIiwidmVoaWNsZUhpc3RvcnkiLCJleHBvcnREYXRlIiwidG9JU09TdHJpbmciLCJpbXBvcnREYXRhIiwiaXRlbSIsInNhdmVWZWhpY2xlVHlwZSIsInZlaGljbGVUeXBlIiwiZGVmYXVsdENvbmZpZyIsImlkIiwiYnVzaW5lc3NBZGRyZXNzIiwiYnVzaW5lc3NQaG9uZSIsImNhclBhcmtpbmdSYXRlIiwibW90b3JjeWNsZVBhcmtpbmdSYXRlIiwidHJ1Y2tQYXJraW5nUmF0ZSIsImNhcndhc2hFbmFibGVkIiwicGFya2luZ0VuYWJsZWQiLCJ2ZWhpY2xlVHlwZXMiLCJ0aWNrZXREYXRhIiwiY29tcGFueU5hbWUiLCJjb21wYW55U3VidGl0bGUiLCJuaXQiLCJhZGRyZXNzIiwicGhvbmUiLCJlbWFpbCIsIndlYnNpdGUiLCJmb290ZXJNZXNzYWdlIiwiZm9vdGVySW5mbyIsImNyZWF0ZWRBdCIsImV4aXN0aW5nVHlwZXMiLCJpc0R1cGxpY2F0ZSIsInNvbWUiLCJ0eXBlIiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVkQ29uZmlnIiwiZ2V0VmVoaWNsZVR5cGVzIiwidXBkYXRlVmVoaWNsZVR5cGUiLCJ2ZWhpY2xlVHlwZUlkIiwidXBkYXRlcyIsInR5cGVJbmRleCIsImZpbmRJbmRleCIsImRlbGV0ZVZlaGljbGVUeXBlIiwidHlwZVRvRGVsZXRlIiwiZmluZCIsImlzQ3VzdG9tIiwidXBkYXRlZFZlaGljbGVUeXBlcyIsImxvY2FsRGF0YWJhc2UiLCJnZXRMb2NhbERCIiwibG9jYWxEQiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/localDatabase.ts\n"));

/***/ })

});